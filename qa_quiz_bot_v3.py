import asyncio
import os
import random
import logging

from aiogram import Bot, Dispatcher, F, types
from aiogram.filters import Command
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton
from dotenv import load_dotenv

# â”€â”€ ENV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
load_dotenv()
BOT_TOKEN = os.getenv("BOT_TOKEN", "").strip()
ADMIN_ID = os.getenv("ADMIN_ID")
LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO").upper()

logging.basicConfig(
    level=getattr(logging, LOG_LEVEL, logging.INFO),
    format="%(asctime)s [%(levelname)s] %(name)s: %(message)s"
)

if not BOT_TOKEN:
    raise SystemExit(
        "âŒ BOT_TOKEN Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ .env Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ .env.example Ğ¸ ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ BOT_TOKEN."
    )

bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()

# â”€â”€ Ğ”ĞĞĞĞ«Ğ• (ĞºĞ°Ğº Ğ¸ Ñ€Ğ°Ğ½ÑŒÑˆĞµ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
all_questions = [
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ĞµĞ½Ğ½Ñ?",
        "options": [
            "ĞŸÑ€Ğ¾Ñ†ĞµÑ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ ĞºĞ¾Ğ´Ñƒ",
            "ĞŸÑ€Ğ¾Ñ†ĞµÑ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸, Ñ‡Ğ¸ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ° Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ°Ğ¼",
            "ĞŸÑ€Ğ¾Ñ†ĞµÑ Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¸",
            "ĞŸÑ€Ğ¾Ñ†ĞµÑ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ—"
        ],
        "answer": 1,
        "explanation": "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ â€” Ñ†Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸, Ñ‡Ğ¸ Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ° Ğ·Ğ³Ñ–Ğ´Ğ½Ğ¾ Ğ· Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ°Ğ¼Ğ¸."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Ğ±Ğ°Ğ³ (bug)?",
        "options": [
            "Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¸",
            "ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ° Ğ¿Ğ¾Ğ²ĞµĞ´Ñ–Ğ½ĞºĞ°",
            "ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ°Ğ±Ğ¾ Ğ´ĞµÑ„ĞµĞºÑ‚ Ñƒ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ñ–",
            "Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±Ğ½Ğ¸ĞºĞ°"
        ],
        "answer": 2,
        "explanation": "Ğ‘Ğ°Ğ³ â€” Ñ†Ğµ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°, ÑĞºĞ° Ğ¿Ñ€Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¸."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Ñ–Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ğ¹Ğ½Ğµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ?",
        "options": [
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¾ĞºÑ€ĞµĞ¼Ğ¸Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–Ğ²",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ— Ğ¼Ñ–Ğ¶ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑƒ",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ³Ñ€Ğ°Ñ„Ñ–ĞºĞ¸"
        ],
        "answer": 1,
        "explanation": "Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ğ¹Ğ½Ğµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”, ÑĞº Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–ÑÑ‚ÑŒ Ğ¼Ñ–Ğ¶ ÑĞ¾Ğ±Ğ¾Ñ Ñ‡Ğ°ÑÑ‚Ğ¸Ğ½Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ unit-Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ?",
        "options": [
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ»Ğ¸ÑˆĞµ UI",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ñ–",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¾ĞºÑ€ĞµĞ¼Ğ¸Ñ… Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¹ Ñ‡Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ–Ğ²",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ—"
        ],
        "answer": 2,
        "explanation": "Unit-Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ” Ğ¾ĞºÑ€ĞµĞ¼Ñ– Ğ¾Ğ´Ğ¸Ğ½Ğ¸Ñ†Ñ– ĞºĞ¾Ğ´Ñƒ, ÑĞº Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾, Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— Ğ°Ğ±Ğ¾ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¸."
    },
    {
        "question": "Ğ¯ĞºĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ° Ğ¼ĞµÑ‚Ğ° smoke-Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ?",
        "options": [
            "ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸, Ñ‡Ğ¸ Ğ¿Ñ€Ğ°Ñ†ÑÑÑ‚ÑŒ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ– Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¸",
            "ĞŸĞ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ Ğ¿Ñ€Ğ¾Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ",
            "Ğ—Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ´Ñ€Ñ–Ğ±Ğ½Ñ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸",
            "ĞÑ†Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½"
        ],
        "answer": 0,
        "explanation": "Smoke-Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ â€” Ğ¿Ğ¾Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ²Ğ° Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ¶Ğ¸Ñ‚Ñ‚Ñ”Ğ·Ğ´Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚Ñ– Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñƒ."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ sandbox Ñƒ QA?",
        "options": [
            "ĞŸÑ–ÑĞ¾Ñ‡Ğ½Ğ¸Ñ†Ñ Ğ´Ğ»Ñ Ğ´Ñ–Ñ‚ĞµĞ¹",
            "Ğ†Ğ·Ğ¾Ğ»ÑŒĞ¾Ğ²Ğ°Ğ½Ğµ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ",
            "Ğ¡ĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ Ğ´Ğ»Ñ Ñ€ĞµĞ»Ñ–Ğ·Ñƒ",
            "Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ° Ğ±Ñ–Ğ±Ğ»Ñ–Ğ¾Ñ‚ĞµĞºĞ°"
        ],
        "answer": 1,
        "explanation": "Sandbox â€” Ñ†Ğµ Ñ–Ğ·Ğ¾Ğ»ÑŒĞ¾Ğ²Ğ°Ğ½Ğµ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ ĞµĞºÑĞ¿ĞµÑ€Ğ¸Ğ¼ĞµĞ½Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‚Ğ° Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ TMS Ñƒ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ–?",
        "options": [
            "Test Management System",
            "Technical Manual System",
            "Trusted Module System",
            "Test Metrics Source"
        ],
        "answer": 0,
        "explanation": "TMS â€” ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´Ğ»Ñ ĞºĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‚ĞµÑÑ‚-ĞºĞµĞ¹ÑĞ°Ğ¼Ğ¸, Ğ¿Ğ»Ğ°Ğ½Ğ°Ğ¼Ğ¸, Ğ·Ğ²Ñ–Ñ‚Ğ°Ğ¼Ğ¸ (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, TestRail, Zephyr)."
    },
    {
        "question": "Ğ¯ĞºĞ¸Ğ¹ Ğ· Ğ½Ğ¸Ğ¶Ñ‡Ğµ Ğ½Ğ°Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ… Ñ” Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¾Ğ¼ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ?",
        "options": [
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‡Ğ°ÑÑƒ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑƒ",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ»Ğ¾Ğ³Ñ–ĞºĞ¸ Ğ»Ğ¾Ğ³Ñ–Ğ½Ñƒ",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑÑ‚Ğ°Ğ±Ñ–Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ñ–"
        ],
        "answer": 2,
        "explanation": "Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”, Ñ‡Ğ¸ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ Ğ¾Ñ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Ğ±Ğ°Ğ³-Ñ„Ñ–ĞºÑ?",
        "options": [
            "Ğ’Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸",
            "ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ",
            "ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑƒ",
            "Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚ĞµÑÑ‚Ñ–Ğ²"
        ],
        "answer": 0,
        "explanation": "Ğ‘Ğ°Ğ³-Ñ„Ñ–ĞºÑ â€” Ñ†Ğµ Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾Ñ— Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ğ² ĞºĞ¾Ğ´Ñ–."
    },
    {
        "question": "Ğ©Ğ¾ Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ” ÑÑ‚Ğ°Ñ‚ÑƒÑ 'In Progress' Ñƒ Ğ±Ğ°Ğ³-Ñ€ĞµĞ¿Ğ¾Ñ€Ñ‚Ñ–?",
        "options": [
            "Ğ‘Ğ°Ğ³ Ğ·Ğ°ĞºÑ€Ğ¸Ñ‚Ğ¸Ğ¹",
            "Ğ‘Ğ°Ğ³ Ğ½Ğµ Ğ¿Ñ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ĞµĞ½Ğ¾",
            "Ğ‘Ğ°Ğ³ Ğ² Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ– Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ",
            "Ğ‘Ğ°Ğ³ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾"
        ],
        "answer": 2,
        "explanation": "In Progress â€” Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ² Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ñ–: Ğ½Ğ°Ğ´ Ğ½ĞµÑ Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±Ğ½Ğ¸Ğº."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ code freeze?",
        "options": [
            "ĞšĞ¾Ğ»Ğ¸ ĞºĞ¾Ğ´ Ğ·Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½Ñƒ",
            "ĞšĞ¾Ğ»Ğ¸ ÑĞµÑ€Ğ²ĞµÑ€ Ğ·Ğ°Ğ²Ğ¸ÑĞ°Ñ”",
            "ĞšĞ¾Ğ»Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ²Ğ¸Ğ¼Ğ¸ĞºĞ°Ñ”Ñ‚ÑŒÑÑ",
            "ĞšĞ¾Ğ»Ğ¸ Ğ±Ğ»Ğ¾ĞºÑƒÑÑ‚ÑŒ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ"
        ],
        "answer": 0,
        "explanation": "Code freeze â€” ĞµÑ‚Ğ°Ğ¿, ĞºĞ¾Ğ»Ğ¸ Ğ·Ğ°Ğ±Ğ¾Ñ€Ğ¾Ğ½ĞµĞ½Ñ– Ğ½Ğ¾Ğ²Ñ– Ğ·Ğ¼Ñ–Ğ½Ğ¸ Ğ² ĞºĞ¾Ğ´ Ğ¿ĞµÑ€ĞµĞ´ Ñ€ĞµĞ»Ñ–Ğ·Ğ¾Ğ¼."
    },
    {
        "question": "Ğ¯ĞºĞ° Ñ€Ğ¾Ğ»ÑŒ QA Ğ² Agile-ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ–?",
        "options": [
            "Ğ›Ğ¸ÑˆĞµ Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ Ğ±Ğ°Ğ³Ğ¸",
            "Ğ‘ÑƒÑ‚Ğ¸ Ğ½ĞµĞ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¸Ğ¼ Ğ²Ñ–Ğ´ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ¸",
            "Ğ‘ÑƒÑ‚Ğ¸ Ñ‡Ğ°ÑÑ‚Ğ¸Ğ½Ğ¾Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸, Ğ·Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ÑƒĞ²Ğ°Ñ‚Ğ¸ ÑĞºÑ–ÑÑ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ–Ñ… ĞµÑ‚Ğ°Ğ¿Ğ°Ñ…",
            "ĞĞµ Ğ±Ñ€Ğ°Ñ‚Ğ¸ ÑƒÑ‡Ğ°ÑÑ‚Ñ– Ñƒ ÑĞ¿Ñ€Ğ¸Ğ½Ñ‚Ğ°Ñ…"
        ],
        "answer": 2,
        "explanation": "QA â€” Ğ¿Ğ¾Ğ²Ğ½Ğ¾Ñ†Ñ–Ğ½Ğ½Ğ¸Ğ¹ ÑƒÑ‡Ğ°ÑĞ½Ğ¸Ğº Agile-ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸, Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ·Ğ° ÑĞºÑ–ÑÑ‚ÑŒ Ğ½Ğ° Ğ²ÑÑ–Ñ… ĞµÑ‚Ğ°Ğ¿Ğ°Ñ…."
    },
    {
        "question": "Ğ¯ĞºĞ° Ğ¼ĞµÑ‚Ğ° Ñ€ĞµÑ‚Ñ€Ğ¾ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ¸ Ğ² Scrum?",
        "options": [
            "ĞŸÑ€Ğ¾Ğ²ĞµÑÑ‚Ğ¸ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ",
            "ĞÑ†Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡",
            "ĞŸĞ¾Ğ»Ñ–Ğ¿ÑˆĞ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµÑ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ¸ Ñ‚Ğ° Ğ²Ğ·Ğ°Ñ”Ğ¼Ğ¾Ğ´Ñ–Ñ—",
            "ĞĞ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ğ±ĞµĞºĞ»Ğ¾Ğ³"
        ],
        "answer": 2,
        "explanation": "Ğ ĞµÑ‚Ñ€Ğ¾ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ° Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ” ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ– Ğ¾Ñ†Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ñƒ Ñ‚Ğ° Ğ·Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– Ğ´Ğ»Ñ Ğ¿Ğ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ½Ñ."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Acceptance Criteria?",
        "options": [
            "Ğ£Ğ¼Ğ¾Ğ²Ğ¸ Ğ¿Ñ€Ğ¸Ğ¹Ğ½ÑÑ‚Ñ‚Ñ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ",
            "ĞšĞ¾Ğ´ Ñ€ĞµĞ²'Ñ",
            "ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ° ÑˆĞ²Ğ¸Ğ´ĞºĞ¾Ğ´Ñ–Ñ—",
            "Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº"
        ],
        "answer": 0,
        "explanation": "Acceptance Criteria â€” ÑƒĞ¼Ğ¾Ğ²Ğ¸, ÑĞºÑ– Ğ¼Ğ°ÑÑ‚ÑŒ Ğ±ÑƒÑ‚Ğ¸ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ñ– Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ¹Ğ½ÑÑ‚Ñ‚Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñ–."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Load Testing?",
        "options": [
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€Ğ¸ Ğ²Ğ¸ÑĞ¾ĞºĞ¾Ğ¼Ñƒ Ğ½Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ–",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ±ĞµĞ· Ğ´Ğ°Ğ½Ğ¸Ñ…",
            "Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑˆĞ²Ğ¸Ğ´ĞºĞ¾ÑÑ‚Ñ– Ğ¼ĞµÑ€ĞµĞ¶Ñ–",
            "Ğ ÑƒÑ‡Ğ½Ğµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ"
        ],
        "answer": 0,
        "explanation": "Load Testing â€” Ñ†Ğµ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ°, ÑĞº ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ¿Ñ–Ğ´ Ğ½Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½ÑĞ¼."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ Jenkins Ñƒ QA?",
        "options": [
            "CI/CD Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ— Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ–Ğ²",
            "Ğ†Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ UI",
            "Ğ¡ĞµÑ€Ğ²Ñ–Ñ Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ¸",
            "ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ»Ğ¾Ğ³Ñ–Ğ²"
        ],
        "answer": 0,
        "explanation": "Jenkins â€” ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° CI/CD Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ— Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ, Ğ·Ğ±Ñ–Ñ€ĞºĞ¸ Ñ‚Ğ° Ğ´ĞµĞ¿Ğ»Ğ¾Ñ."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ test suite?",
        "options": [
            "ĞĞ´Ğ¸Ğ½ Ñ‚ĞµÑÑ‚-ĞºĞµĞ¹Ñ",
            "Ğ“Ñ€ÑƒĞ¿Ğ° Ñ‚ĞµÑÑ‚-ĞºĞµĞ¹ÑÑ–Ğ²",
            "Ğ‘Ğ°Ğ³-Ñ€ĞµĞ¿Ğ¾Ñ€Ñ‚",
            "CI-ÑĞµÑ€Ğ²ĞµÑ€"
        ],
        "answer": 1,
        "explanation": "Test Suite â€” Ğ½Ğ°Ğ±Ñ–Ñ€ Ñ‚ĞµÑÑ‚-ĞºĞµĞ¹ÑÑ–Ğ², Ñ‰Ğ¾ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑÑ‚ÑŒ Ğ¿Ğ¾Ğ²'ÑĞ·Ğ°Ğ½Ğ¸Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ boundary value analysis?",
        "options": [
            "Ğ¢ĞµÑ…Ğ½Ñ–ĞºĞ° Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ, ÑĞºĞ° Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ” Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ½Ñ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ",
            "ĞĞ½Ğ°Ğ»Ñ–Ğ· Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½Ñƒ",
            "ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ—",
            "ĞœĞµÑ‚Ğ¾Ğ´ Ğ½Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ"
        ],
        "answer": 0,
        "explanation": "Boundary Value Analysis â€” Ñ‚ĞµÑ…Ğ½Ñ–ĞºĞ° Ñ‚ĞµÑÑ‚-Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½Ñƒ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ ĞºÑ€Ğ°Ğ¹Ğ½Ñ–Ñ… Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ÑŒ."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ TestRail?",
        "options": [
            "Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞºĞµÑ€ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ‚ĞµÑÑ‚-ĞºĞµĞ¹ÑĞ°Ğ¼Ğ¸",
            "Ğ†Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ¼Ğ°Ğ»ÑĞ²Ğ°Ğ½Ğ½Ñ Ğ´Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼",
            "Ğ¡ĞµÑ€Ğ²Ñ–Ñ Ğ´Ğ»Ñ Ğ»Ğ¾Ğ³Ñ–Ğ²",
            "Ğ‘Ğ°Ğ³-Ñ‚Ñ€ĞµĞºĞµÑ€"
        ],
        "answer": 0,
        "explanation": "TestRail â€” Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´Ğ»Ñ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ñ‚Ğ° Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ Ñ‚ĞµÑÑ‚-ĞºĞµĞ¹ÑÑ–Ğ²."
    },
    {
        "question": "Ğ©Ğ¾ Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ” Ñ‚ĞµÑ€Ğ¼Ñ–Ğ½ 'defect leakage'?",
        "options": [
            "ĞšÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ´ĞµÑ„ĞµĞºÑ‚Ñ–Ğ², Ñ‰Ğ¾ Ğ¿Ñ€Ğ¾Ğ¹ÑˆĞ»Ğ¸ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½",
            "Ğ Ñ–Ğ²ĞµĞ½ÑŒ Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ñ‚Ñ ĞºĞ¾Ğ´Ñƒ",
            "Ğ¨Ğ²Ğ¸Ğ´ĞºÑ–ÑÑ‚ÑŒ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ",
            "Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ñ‡Ğ°Ñ Ğ±Ğ°Ğ³Ñ„Ñ–ĞºÑÑ–Ğ²"
        ],
        "answer": 0,
        "explanation": "Defect leakage â€” Ğ±Ğ°Ğ³Ğ¸, Ñ‰Ğ¾ Ğ½Ğµ Ğ±ÑƒĞ»Ğ¸ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ– Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼ Ñ– Ğ¿Ğ¾Ñ‚Ñ€Ğ°Ğ¿Ğ¸Ğ»Ğ¸ Ğ´Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ regression suite?",
        "options": [
            "ĞĞ°Ğ±Ñ–Ñ€ Ñ‚ĞµÑÑ‚Ñ–Ğ² Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»Ñƒ",
            "ĞĞ°Ğ±Ñ–Ñ€ Ğ²Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ğ¸Ñ… Ñ‚ĞµÑÑ‚Ñ–Ğ²",
            "ĞĞ°Ğ±Ñ–Ñ€ Ñ‚ĞµÑÑ‚Ñ–Ğ² Ğ´Ğ»Ñ smoke-Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ",
            "ĞĞ°Ğ±Ñ–Ñ€ Ñ‚ĞµÑÑ‚Ñ–Ğ² Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ ÑÑ‚Ğ°Ñ€Ğ¾Ğ³Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ğ¾Ğ½Ğ°Ğ»Ñƒ Ğ¿Ñ–ÑĞ»Ñ Ğ·Ğ¼Ñ–Ğ½"
        ],
        "answer": 3,
        "explanation": "Regression Suite â€” Ñ†Ğµ Ğ½Ğ°Ğ±Ñ–Ñ€ Ñ‚ĞµÑÑ‚Ñ–Ğ² Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸, Ñ‡Ğ¸ Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ²ÑĞµ Ğ¿Ñ–ÑĞ»Ñ Ğ·Ğ¼Ñ–Ğ½ Ñƒ ĞºĞ¾Ğ´Ñ–."
    },
    {
        "question": "Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ exploratory session?",
        "options": [
            "ĞŸĞ»Ğ°Ğ½Ğ¾Ğ²Ğ°Ğ½Ğµ Ğ´Ğ¾ÑĞ»Ñ–Ğ´Ğ½Ğµ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ±ĞµĞ· ÑÑ†ĞµĞ½Ğ°Ñ€Ñ–Ñ—Ğ²",
            "Ğ†Ğ½Ñ‚ĞµÑ€Ğ²'Ñ Ğ· ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ¼",
            "Ğ Ğ¾Ğ·ÑĞ¸Ğ»ĞºĞ° Ğ±Ğ°Ğ³Ñ–Ğ²",
            "ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑƒ"
        ],
        "answer": 0,
        "explanation": "Exploratory session â€” ĞºĞ¾Ğ»Ğ¸ Ñ‚ĞµÑÑ‚ĞµÑ€ Ğ²Ğ¸Ğ²Ñ‡Ğ°Ñ” ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ Ğ±ĞµĞ· Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ»Ğ°Ğ½Ñƒ."
    }
]

user_data = {}

def get_keyboard(options):
    keyboard = [[KeyboardButton(text=chr(65 + i))] for i in range(len(options))]
    return ReplyKeyboardMarkup(keyboard=keyboard, resize_keyboard=True)

# â”€â”€ ĞšĞĞœĞĞĞ”Ğ« â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@dp.message(Command("start"))
async def cmd_start(message: types.Message):
    user_id = message.from_user.id
    questions_copy = random.sample(all_questions, k=min(50, len(all_questions)))
    user_data[user_id] = {"score": 0, "total": 0, "questions": questions_copy, "current": None}
    await send_question(message)

@dp.message(Command("help"))
async def cmd_help(message: types.Message):
    await message.answer(
        "â“ *Help (Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)*\n"
        "ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹: /start, /help, /about, /stats, /debug, /lang\n"
        "Ğ¡ĞºĞ¾Ñ€Ğ¾ Ğ·Ğ´ĞµÑÑŒ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ°.",
        parse_mode="Markdown",
    )

@dp.message(Command("about"))
async def cmd_about(message: types.Message):
    await message.answer(
        "â„¹ï¸ *About (Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)*\nQA Quiz Bot v3 â€” Ñ‚Ñ€ĞµĞ½Ğ°Ğ¶Ñ‘Ñ€ Ğ¿Ğ¾ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼ QA. Ğ¡ĞºĞ¾Ñ€Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ¼ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸, ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° Ğ¸ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ‹.",
        parse_mode="Markdown",
    )

@dp.message(Command("stats"))
async def cmd_stats(message: types.Message):
    uid = message.from_user.id
    data = user_data.get(uid, {"score": 0, "total": 0})
    await message.answer(
        f"ğŸ“Š *Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° (Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)*\nĞ’Ğ°Ñˆ ÑÑ‡Ñ‘Ñ‚: {data.get('score',0)}/{data.get('total',0)}.\n"
        f"Ğ¡ĞºĞ¾Ñ€Ğ¾ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸ Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ€ĞµĞºĞ¾Ñ€Ğ´Ñ‹.",
        parse_mode="Markdown",
    )

@dp.message(Command("debug"))
async def cmd_debug(message: types.Message):
    await message.answer("ğŸ›  *Debug (Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)*\nĞ ĞµĞ¶Ğ¸Ğ¼ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ¿Ğ¾Ğ·Ğ¶Ğµ.", parse_mode="Markdown")

@dp.message(Command("lang"))
async def cmd_lang(message: types.Message):
    await message.answer("ğŸŒ *Ğ¯Ğ·Ñ‹ĞºĞ¸ (Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)*\nUA/EN/RU â€” Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑĞºĞ¾Ñ€Ğ¾.", parse_mode="Markdown")

@dp.message(Command("admin"))
async def cmd_admin(message: types.Message):
    if ADMIN_ID and str(message.from_user.id) == str(ADMIN_ID):
        await message.answer("ğŸ§° *ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¼ĞµĞ½Ñ (Ğ·Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ°)*\nĞ¢ÑƒÑ‚ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ°Ğ´Ğ¼Ğ¸Ğ½ÑĞºĞ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸.", parse_mode="Markdown")
    else:
        await message.answer("â›” ĞĞ´Ğ¼Ğ¸Ğ½-Ñ€ĞµĞ¶Ğ¸Ğ¼ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½.")

# â”€â”€ Ğ›ĞĞ“Ğ˜ĞšĞ Ğ’ĞĞŸĞ ĞĞ¡-ĞĞ¢Ğ’Ğ•Ğ¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async def send_question(message: types.Message):
    user_id = message.from_user.id
    data = user_data[user_id]

    if not data["questions"]:
        percent = round(data["score"] / data["total"] * 100) if data["total"] > 0 else 0
        await message.answer(
            f"ğŸ ĞšĞ²Ñ–Ğ· Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾!\n"
            f"âœ… Ğ’Ğ¸ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ»Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ Ğ½Ğ° {data['score']} Ğ· {data['total']}.\n"
            f"ğŸ¯ Ğ¢Ğ¾Ñ‡Ğ½Ñ–ÑÑ‚ÑŒ: {percent}%\n\nĞĞ°Ñ‚Ğ¸ÑĞ½Ñ–Ñ‚ÑŒ /start Ñ‰Ğ¾Ğ± Ğ¿Ğ¾Ñ‡Ğ°Ñ‚Ğ¸ Ğ·Ğ½Ğ¾Ğ²Ñƒ.",
            reply_markup=types.ReplyKeyboardRemove()
        )
        return

    question = data["questions"].pop(0)
    data["current"] = question

    text = f"ğŸ§  *ĞŸĞ¸Ñ‚Ğ°Ğ½Ğ½Ñ {data['total'] + 1}/50:*\n{question['question']}\n\n"
    for i, opt in enumerate(question["options"]):
        text += f"{chr(65 + i)}) {opt}\n"

    keyboard = get_keyboard(question["options"])
    await message.answer(text, reply_markup=keyboard, parse_mode="Markdown")

@dp.message(F.text.in_({"A", "B", "C", "D"}))
async def handle_answer(message: types.Message):
    user_id = message.from_user.id
    data = user_data.get(user_id)

    if not data or not data.get("current"):
        await message.answer("ĞĞ°Ñ‚Ğ¸ÑĞ½Ñ–Ñ‚ÑŒ /start Ñ‰Ğ¾Ğ± Ğ¿Ğ¾Ñ‡Ğ°Ñ‚Ğ¸ ÑĞ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ.")
        return

    user_answer = message.text.strip().upper()
    question = data["current"]
    correct_letter = chr(65 + question["answer"])

    data["total"] += 1
    if user_answer == correct_letter:
        data["score"] += 1
        response = "âœ… ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾!"
    else:
        correct_text = question["options"][question["answer"]]
        response = f"âŒ ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾! ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ: {correct_letter}) {correct_text}"

    response += f"\nğŸ’¡ {question['explanation']}"
    response += f"\n\nğŸ¯ Ğ Ğ°Ñ…ÑƒĞ½Ğ¾Ğº: {data['score']}/{data['total']}"
    await message.answer(response)

    await send_question(message)

# â”€â”€ RUN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async def main():
    logging.info("ğŸ¤– Ğ‘Ğ¾Ñ‚ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑâ€¦")
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
